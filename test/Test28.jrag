aspect Test28 {
  syn Decl Use.decl() = lookup(getName());
    
  inh Decl Use.lookup(String name);
  eq Program.getExpr(int index).lookup(String name) {
    for(int i = index; i >=0; i--) {
      if(getExpr(i).isDecl(name))
        return (Decl)getExpr(i);
    }
    return null;
  }

  syn boolean Expr.isDecl(String name);
  eq Expr.isDecl(String name) = false;
  eq Decl.isDecl(String name) {
    return name.equals(getName());
  }
}