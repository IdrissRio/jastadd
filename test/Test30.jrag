aspect Test30 {

  syn int A.value();
  eq B.value() = 1;
  eq C.value() = 2;

  rewrite B {
    when(value() == 1)
    to A {
      return new C();
    }
    when(true)
    to A {
      throw new Error("This should not happen");
    }
  }
	
}